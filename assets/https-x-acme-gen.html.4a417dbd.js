import{_ as i}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as l,c as r,a as e,b as n,d as s,f as t,r as d}from"./app.c3058df1.js";const o={},c=e("h1",{id:"\u4F7F\u7528acme-sh\u751F\u6210\u514D\u8D39\u7684ssl\u8BC1\u4E66",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u4F7F\u7528acme-sh\u751F\u6210\u514D\u8D39\u7684ssl\u8BC1\u4E66","aria-hidden":"true"},"#"),n(" \u4F7F\u7528acme.sh\u751F\u6210\u514D\u8D39\u7684SSL\u8BC1\u4E66")],-1),h={href:"https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E",target:"_blank",rel:"noopener noreferrer"},m=e("p",null,"\u6B64\u6587\u4EC5\u8BB0\u5F55\u6211\u7684\u5B9E\u64CD\u8BB0\u5F55\uFF0C\u4E0E\u9047\u5230\u7684\u76F8\u5173\u95EE\u9898",-1),u={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},p=e("code",null,"acme",-1),_=e("p",null,"\u4E3B\u8981\u6B65\u9AA4:",-1),g={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},v=e("li",null,"\u751F\u6210\u8BC1\u4E66",-1),b=e("li",null,"copy \u8BC1\u4E66\u5230 nginx/apache \u6216\u8005\u5176\u4ED6\u670D\u52A1",-1),x=e("li",null,"\u66F4\u65B0\u8BC1\u4E66",-1),f={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},k=e("li",null,"\u51FA\u9519\u600E\u4E48\u529E, \u5982\u4F55\u8C03\u8BD5",-1),w=e("p",null,"\u4E0B\u9762\u8BE6\u7EC6\u4ECB\u7ECD.",-1),y={id:"_1-\u5B89\u88C5-acme-sh",tabindex:"-1"},L=e("a",{class:"header-anchor",href:"#_1-\u5B89\u88C5-acme-sh","aria-hidden":"true"},"#",-1),N={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},C=e("p",null,"\u5B89\u88C5\u5F88\u7B80\u5355, \u4E00\u4E2A\u547D\u4EE4:",-1),q=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`curl  https://get.acme.sh | sh -s email=my@example.com
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),A=e("p",null,"\u666E\u901A\u7528\u6237\u548C root \u7528\u6237\u90FD\u53EF\u4EE5\u5B89\u88C5\u4F7F\u7528. \u5B89\u88C5\u8FC7\u7A0B\u8FDB\u884C\u4E86\u4EE5\u4E0B\u51E0\u6B65:",-1),E={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},P=e("strong",null,"home",-1),R=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`~/.acme.sh/
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),D=e("p",null,[n("\u5E76\u521B\u5EFA \u4E00\u4E2A bash \u7684 alias, \u65B9\u4FBF\u4F60\u7684\u4F7F\u7528: "),e("code",null,"alias acme.sh=~/.acme.sh/acme.sh")],-1),H=e("ol",null,[e("li",null,"\u81EA\u52A8\u4E3A\u4F60\u521B\u5EFA cronjob, \u6BCF\u5929 0:00 \u70B9\u81EA\u52A8\u68C0\u6D4B\u6240\u6709\u7684\u8BC1\u4E66, \u5982\u679C\u5FEB\u8FC7\u671F\u4E86, \u9700\u8981\u66F4\u65B0, \u5219\u4F1A\u81EA\u52A8\u66F4\u65B0\u8BC1\u4E66.")],-1),I={href:"https://github.com/Neilpang/acme.sh/wiki/How-to-install",target:"_blank",rel:"noopener noreferrer"},S=e("p",null,[e("strong",null,"\u5B89\u88C5\u8FC7\u7A0B\u4E0D\u4F1A\u6C61\u67D3\u5DF2\u6709\u7684\u7CFB\u7EDF\u4EFB\u4F55\u529F\u80FD\u548C\u6587\u4EF6"),n(", \u6240\u6709\u7684\u4FEE\u6539\u90FD\u9650\u5236\u5728\u5B89\u88C5\u76EE\u5F55\u4E2D: "),e("code",null,"~/.acme.sh/")],-1),T=e("h2",{id:"_2-\u751F\u6210\u8BC1\u4E66",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-\u751F\u6210\u8BC1\u4E66","aria-hidden":"true"},"#"),n(" 2. \u751F\u6210\u8BC1\u4E66")],-1),B={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},F=e("strong",null,"acme",-1),M=t(`<h3 id="_2-1-http-\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2-1-http-\u65B9\u5F0F" aria-hidden="true">#</a> 2.1. http \u65B9\u5F0F</h3><h4 id="_2-1-1-\u57FA\u7840\u4F7F\u7528-\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#_2-1-1-\u57FA\u7840\u4F7F\u7528-\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55" aria-hidden="true">#</a> 2.1.1 \u57FA\u7840\u4F7F\u7528\uFF08\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55\uFF09</h4><p>\u9700\u8981\u5728\u4F60\u7684\u7F51\u7AD9\u6839\u76EE\u5F55\u4E0B\u653E\u7F6E\u4E00\u4E2A\u6587\u4EF6, \u6765\u9A8C\u8BC1\u4F60\u7684\u57DF\u540D\u6240\u6709\u6743,\u5B8C\u6210\u9A8C\u8BC1. \u7136\u540E\u5C31\u53EF\u4EE5\u751F\u6210\u8BC1\u4E66\u4E86.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),O={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},V=e("h4",{id:"_2-1-2-apache\u670D\u52A1\u5668-nginx\u670D\u52A1\u5668",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-1-2-apache\u670D\u52A1\u5668-nginx\u670D\u52A1\u5668","aria-hidden":"true"},"#"),n(" 2.1.2 "),e("strong",null,"apache"),n("\u670D\u52A1\u5668/nginx\u670D\u52A1\u5668")],-1),j=e("strong",null,"apache",-1),K={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},z=e("strong",null,"apache",-1),U=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`acme.sh --issue  -d mydomain.com   --apache
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),G=e("strong",null,"nginx",-1),J={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},W=e("strong",null,"nginx",-1),X=t(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh --issue  -d mydomain.com   --nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u6CE8\u610F, \u65E0\u8BBA\u662F apache \u8FD8\u662F nginx \u6A21\u5F0F, acme.sh\u5728\u5B8C\u6210\u9A8C\u8BC1\u4E4B\u540E, \u4F1A\u6062\u590D\u5230\u4E4B\u524D\u7684\u72B6\u6001, \u90FD\u4E0D\u4F1A\u79C1\u81EA\u66F4\u6539\u4F60\u672C\u8EAB\u7684\u914D\u7F6E. \u597D\u5904\u662F\u4F60\u4E0D\u7528\u62C5\u5FC3\u914D\u7F6E\u88AB\u641E\u574F, \u4E5F\u6709\u4E00\u4E2A\u7F3A\u70B9, \u4F60\u9700\u8981\u81EA\u5DF1\u914D\u7F6E ssl \u7684\u914D\u7F6E, \u5426\u5219\u53EA\u80FD\u6210\u529F\u751F\u6210\u8BC1\u4E66, \u4F60\u7684\u7F51\u7AD9\u8FD8\u662F\u65E0\u6CD5\u8BBF\u95EEhttps. \u4F46\u662F\u4E3A\u4E86\u5B89\u5168, \u4F60\u8FD8\u662F\u81EA\u5DF1\u624B\u52A8\u6539\u914D\u7F6E\u5427.</strong></p><h5 id="_2-1-2-1-nginx\u670D\u52A1\u5668\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_2-1-2-1-nginx\u670D\u52A1\u5668\u793A\u4F8B" aria-hidden="true">#</a> 2.1.2.1 nginx\u670D\u52A1\u5668\u793A\u4F8B</h5><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220724224849353.png" alt="image-20220724224849353"></p><h4 id="_2-1-3-\u5047\u88C5webserver-\u5B8C\u6210\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#_2-1-3-\u5047\u88C5webserver-\u5B8C\u6210\u9A8C\u8BC1" aria-hidden="true">#</a> 2.1.3 \u5047\u88C5webserver\uFF0C\u5B8C\u6210\u9A8C\u8BC1</h4>`,5),Q=e("strong",null,"80",-1),Y={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},Z=e("strong",null,"80",-1),$=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`acme.sh  --issue -d mydomain.com   --standalone
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),ee={href:"https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert",target:"_blank",rel:"noopener noreferrer"},ne=e("h3",{id:"_2-\u624B\u52A8-dns-\u65B9\u5F0F",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-\u624B\u52A8-dns-\u65B9\u5F0F","aria-hidden":"true"},"#"),n(" 2. \u624B\u52A8 dns \u65B9\u5F0F")],-1),ae=e("p",null,"\u624B\u52A8\u5728\u57DF\u540D\u4E0A\u6DFB\u52A0\u4E00\u6761 txt \u89E3\u6790\u8BB0\u5F55, \u9A8C\u8BC1\u57DF\u540D\u6240\u6709\u6743.",-1),se={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},te=t(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh  --issue  --dns   -d mydomain.com \\
 --yes-I-know-dns-manual-mode-enough-go-ahead-please
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),ie={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},le=t(`<p>\u7B49\u5F85\u89E3\u6790\u5B8C\u6210\u4E4B\u540E, \u91CD\u65B0\u751F\u6210\u8BC1\u4E66:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh  --renew   -d mydomain.com \\
  --yes-I-know-dns-manual-mode-enough-go-ahead-please
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\u7B2C\u4E8C\u6B21\u8FD9\u91CC\u7528\u7684\u662F <code>--renew</code></p><p>dns \u65B9\u5F0F\u7684\u771F\u6B63\u5F3A\u5927\u4E4B\u5904\u5728\u4E8E\u53EF\u4EE5\u4F7F\u7528\u57DF\u540D\u89E3\u6790\u5546\u63D0\u4F9B\u7684 api \u81EA\u52A8\u6DFB\u52A0 txt \u8BB0\u5F55\u5B8C\u6210\u9A8C\u8BC1.</p>`,4),re={href:"http://acme.sh",target:"_blank",rel:"noopener noreferrer"},de=t(`<p>\u4EE5 dnspod \u4E3A\u4F8B, \u4F60\u9700\u8981\u5148\u767B\u5F55\u5230 dnspod \u8D26\u53F7, \u751F\u6210\u4F60\u7684 api id \u548C api key, \u90FD\u662F\u514D\u8D39\u7684. \u7136\u540E:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>export DP_Id=&quot;1234&quot;

export DP_Key=&quot;sADDsdasdgdsf&quot;

acme.sh   --issue   --dns dns_dp   -d aa.com  -d www.aa.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BC1\u4E66\u5C31\u4F1A\u81EA\u52A8\u751F\u6210\u4E86. \u8FD9\u91CC\u7ED9\u51FA\u7684 api id \u548C api key \u4F1A\u88AB\u81EA\u52A8\u8BB0\u5F55\u4E0B\u6765, \u5C06\u6765\u4F60\u5728\u4F7F\u7528 dnspod api \u7684\u65F6\u5019, \u5C31\u4E0D\u9700\u8981\u518D\u6B21\u6307\u5B9A\u4E86. \u76F4\u63A5\u751F\u6210\u5C31\u597D\u4E86:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh  --issue   -d  mydomain2.com   --dns  dns_dp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),oe={href:"https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md",target:"_blank",rel:"noopener noreferrer"},ce=t(`<h2 id="_3-copy-\u5B89\u88C5-\u8BC1\u4E66" tabindex="-1"><a class="header-anchor" href="#_3-copy-\u5B89\u88C5-\u8BC1\u4E66" aria-hidden="true">#</a> 3. copy/\u5B89\u88C5 \u8BC1\u4E66</h2><p>\u524D\u9762\u8BC1\u4E66\u751F\u6210\u4EE5\u540E, \u63A5\u4E0B\u6765\u9700\u8981\u628A\u8BC1\u4E66 copy \u5230\u771F\u6B63\u9700\u8981\u7528\u5B83\u7684\u5730\u65B9.</p><p>\u6CE8\u610F, \u9ED8\u8BA4\u751F\u6210\u7684\u8BC1\u4E66\u90FD\u653E\u5728\u5B89\u88C5\u76EE\u5F55\u4E0B: <code>~/.acme.sh/</code>, \u8BF7\u4E0D\u8981\u76F4\u63A5\u4F7F\u7528\u6B64\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6, \u4F8B\u5982: \u4E0D\u8981\u76F4\u63A5\u8BA9 nginx/apache \u7684\u914D\u7F6E\u6587\u4EF6\u4F7F\u7528\u8FD9\u4E0B\u9762\u7684\u6587\u4EF6. \u8FD9\u91CC\u9762\u7684\u6587\u4EF6\u90FD\u662F\u5185\u90E8\u4F7F\u7528, \u800C\u4E14\u76EE\u5F55\u7ED3\u6784\u53EF\u80FD\u4F1A\u53D8\u5316.</p><p>\u6B63\u786E\u7684\u4F7F\u7528\u65B9\u6CD5\u662F\u4F7F\u7528 <code>--install-cert</code> \u547D\u4EE4,\u5E76\u6307\u5B9A\u76EE\u6807\u4F4D\u7F6E, \u7136\u540E\u8BC1\u4E66\u6587\u4EF6\u4F1A\u88ABcopy\u5230\u76F8\u5E94\u7684\u4F4D\u7F6E, \u4F8B\u5982:</p><h3 id="_3-1-apache-example" tabindex="-1"><a class="header-anchor" href="#_3-1-apache-example" aria-hidden="true">#</a> 3.1 Apache example:</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh --install-cert -d example.com \\
--cert-file      /path/to/certfile/in/apache/cert.pem  \\
--key-file       /path/to/keyfile/in/apache/key.pem  \\
--fullchain-file /path/to/fullchain/certfile/apache/fullchain.pem \\
--reloadcmd     &quot;service apache2 force-reload&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-nginx-example" tabindex="-1"><a class="header-anchor" href="#_3-2-nginx-example" aria-hidden="true">#</a> 3.2 Nginx example:</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh --install-cert -d example.com \\
--key-file       /path/to/keyfile/in/nginx/key.pem  \\
--fullchain-file /path/to/fullchain/nginx/cert.pem \\
--reloadcmd     &quot;service nginx force-reload&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(\u4E00\u4E2A\u5C0F\u63D0\u9192, \u8FD9\u91CC\u7528\u7684\u662F <code>service nginx force-reload</code>, \u4E0D\u662F <code>service nginx reload</code>, \u636E\u6D4B\u8BD5, <code>reload</code> \u5E76\u4E0D\u4F1A\u91CD\u65B0\u52A0\u8F7D\u8BC1\u4E66, \u6240\u4EE5\u7528\u7684 <code>force-reload</code>)</p>`,9),he=e("code",null,"ssl_certificate",-1),me=e("code",null,"/etc/nginx/ssl/fullchain.cer",-1),ue=e("code",null,"/etc/nginx/ssl/<domain>.cer",-1),pe={href:"https://www.ssllabs.com/ssltest/",target:"_blank",rel:"noopener noreferrer"},_e=e("code",null,"Chain issues Incomplete",-1),ge=e("p",null,[e("code",null,"--install-cert"),n("\u547D\u4EE4\u53EF\u4EE5\u643A\u5E26\u5F88\u591A\u53C2\u6570, \u6765\u6307\u5B9A\u76EE\u6807\u6587\u4EF6. \u5E76\u4E14\u53EF\u4EE5\u6307\u5B9A reloadcmd, \u5F53\u8BC1\u4E66\u66F4\u65B0\u4EE5\u540E, reloadcmd\u4F1A\u88AB\u81EA\u52A8\u8C03\u7528,\u8BA9\u670D\u52A1\u5668\u751F\u6548.")],-1),ve={href:"https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc",target:"_blank",rel:"noopener noreferrer"},be=t(`<p>\u503C\u5F97\u6CE8\u610F\u7684\u662F, \u8FD9\u91CC\u6307\u5B9A\u7684\u6240\u6709\u53C2\u6570\u90FD\u4F1A\u88AB\u81EA\u52A8\u8BB0\u5F55\u4E0B\u6765, \u5E76\u5728\u5C06\u6765\u8BC1\u4E66\u81EA\u52A8\u66F4\u65B0\u4EE5\u540E, \u88AB\u518D\u6B21\u81EA\u52A8\u8C03\u7528.</p><h1 id="_4-\u67E5\u770B\u5DF2\u5B89\u88C5\u8BC1\u4E66\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_4-\u67E5\u770B\u5DF2\u5B89\u88C5\u8BC1\u4E66\u4FE1\u606F" aria-hidden="true">#</a> 4. \u67E5\u770B\u5DF2\u5B89\u88C5\u8BC1\u4E66\u4FE1\u606F</h1><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh --info -d example.com
# \u4F1A\u8F93\u51FA\u5982\u4E0B\u5185\u5BB9\uFF1A
DOMAIN_CONF=/root/.acme.sh/example.com/example.com.conf
Le_Domain=example.com
Le_Alt=no
Le_Webroot=dns_ali
Le_PreHook=
Le_PostHook=
Le_RenewHook=
Le_API=https://acme-v02.api.letsencrypt.org/directory
Le_Keylength=
Le_OrderFinalize=https://acme-v02.api.letsencrypt.org/acme/finalize/23xxxx150/781xxxx4310
Le_LinkOrder=https://acme-v02.api.letsencrypt.org/acme/order/233xxx150/781xxxx4310
Le_LinkCert=https://acme-v02.api.letsencrypt.org/acme/cert/04cbd28xxxxxx349ecaea8d07
Le_CertCreateTime=1649358725
Le_CertCreateTimeStr=Thu Apr  7 19:12:05 UTC 2022
Le_NextRenewTimeStr=Mon Jun  6 19:12:05 UTC 2022
Le_NextRenewTime=1654456325
Le_RealCertPath=
Le_RealCACertPath=
Le_RealKeyPath=/etc/acme/example.com/privkey.pem
Le_ReloadCmd=service nginx force-reload
Le_RealFullChainPath=/etc/acme/example.com/chain.pem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_5-\u66F4\u65B0\u8BC1\u4E66" tabindex="-1"><a class="header-anchor" href="#_5-\u66F4\u65B0\u8BC1\u4E66" aria-hidden="true">#</a> 5. \u66F4\u65B0\u8BC1\u4E66</h1><p>\u76EE\u524D\u8BC1\u4E66\u5728 60 \u5929\u4EE5\u540E\u4F1A\u81EA\u52A8\u66F4\u65B0, \u4F60\u65E0\u9700\u4EFB\u4F55\u64CD\u4F5C. \u4ECA\u540E\u6709\u53EF\u80FD\u4F1A\u7F29\u77ED\u8FD9\u4E2A\u65F6\u95F4, \u4E0D\u8FC7\u90FD\u662F\u81EA\u52A8\u7684, \u4F60\u4E0D\u7528\u5173\u5FC3.</p><p>\u8BF7\u786E\u4FDD cronjob \u6B63\u786E\u5B89\u88C5, \u770B\u8D77\u6765\u662F\u7C7B\u4F3C\u8FD9\u6837\u7684:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>crontab  -l

56 * * * * &quot;/root/.acme.sh&quot;/acme.sh --cron --home &quot;/root/.acme.sh&quot; &gt; /dev/null
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_6-\u51FA\u9519\u600E\u4E48\u529E" tabindex="-1"><a class="header-anchor" href="#_6-\u51FA\u9519\u600E\u4E48\u529E" aria-hidden="true">#</a> 6. \u51FA\u9519\u600E\u4E48\u529E\uFF1A</h1><p>\u5982\u679C\u51FA\u9519, \u8BF7\u6DFB\u52A0 debug log\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh  --issue  .....  --debug 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6216\u8005\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>acme.sh  --issue  .....  --debug  2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,12),xe={href:"https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh",target:"_blank",rel:"noopener noreferrer"},fe=e("p",null,"\u6700\u540E, \u672C\u6587\u5E76\u975E\u5B8C\u5168\u7684\u4F7F\u7528\u8BF4\u660E, \u8FD8\u6709\u5F88\u591A\u9AD8\u7EA7\u7684\u529F\u80FD, \u66F4\u9AD8\u7EA7\u7684\u7528\u6CD5\u8BF7\u53C2\u770B\u5176\u4ED6 wiki \u9875\u9762.",-1),ke={href:"https://github.com/Neilpang/acme.sh/wiki",target:"_blank",rel:"noopener noreferrer"},we=e("h2",{id:"\u53C2\u8003\u6587\u7AE0",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u53C2\u8003\u6587\u7AE0","aria-hidden":"true"},"#"),n(" \u53C2\u8003\u6587\u7AE0")],-1),ye={href:"https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E",target:"_blank",rel:"noopener noreferrer"};function Le(Ne,Ce){const a=d("ExternalLinkIcon");return l(),r("div",null,[c,e("blockquote",null,[e("p",null,[e("a",h,[n("\u5B98\u7F51\u4E2D\u6587\u4ECB\u7ECD"),s(a)])]),m]),e("p",null,[e("strong",null,[e("a",u,[n("acme.sh"),s(a)])]),n(" \u5B9E\u73B0\u4E86 "),p,n(" \u534F\u8BAE, \u53EF\u4EE5\u4ECE letsencrypt \u751F\u6210\u514D\u8D39\u7684\u8BC1\u4E66.")]),_,e("ol",null,[e("li",null,[n("\u5B89\u88C5 "),e("strong",null,[e("a",g,[n("acme.sh"),s(a)])])]),v,b,x,e("li",null,[n("\u66F4\u65B0 "),e("strong",null,[e("a",f,[n("acme.sh"),s(a)])])]),k]),w,e("h2",y,[L,n(" 1. \u5B89\u88C5 "),e("strong",null,[e("a",N,[n("acme.sh"),s(a)])])]),C,q,A,e("ol",null,[e("li",null,[n("\u628A "),e("a",E,[n("acme.sh"),s(a)]),n(" \u5B89\u88C5\u5230\u4F60\u7684 "),P,n(" \u76EE\u5F55\u4E0B:")])]),R,D,H,e("p",null,[n("\u66F4\u9AD8\u7EA7\u7684\u5B89\u88C5\u9009\u9879\u8BF7\u53C2\u8003: "),e("a",I,[n("https://github.com/Neilpang/acme.sh/wiki/How-to-install"),s(a)])]),S,T,e("p",null,[e("strong",null,[e("a",B,[n("acme.sh"),s(a)])]),n(" \u5B9E\u73B0\u4E86 "),F,n(" \u534F\u8BAE\u652F\u6301\u7684\u6240\u6709\u9A8C\u8BC1\u534F\u8BAE. \u4E00\u822C\u6709\u4E24\u79CD\u65B9\u5F0F\u9A8C\u8BC1: http \u548C dns \u9A8C\u8BC1.")]),M,e("p",null,[n("\u53EA\u9700\u8981\u6307\u5B9A\u57DF\u540D, \u5E76\u6307\u5B9A\u57DF\u540D\u6240\u5728\u7684\u7F51\u7AD9\u6839\u76EE\u5F55. "),e("strong",null,[e("a",O,[n("acme.sh"),s(a)])]),n(" \u4F1A\u5168\u81EA\u52A8\u7684\u751F\u6210\u9A8C\u8BC1\u6587\u4EF6, \u5E76\u653E\u5230\u7F51\u7AD9\u7684\u6839\u76EE\u5F55, \u7136\u540E\u81EA\u52A8\u5B8C\u6210\u9A8C\u8BC1. \u6700\u540E\u4F1A\u806A\u660E\u7684\u5220\u9664\u9A8C\u8BC1\u6587\u4EF6. \u6574\u4E2A\u8FC7\u7A0B\u6CA1\u6709\u4EFB\u4F55\u526F\u4F5C\u7528.")]),V,e("p",null,[n("\u5982\u679C\u4F60\u7528\u7684 "),j,n("\u670D\u52A1\u5668, "),e("strong",null,[e("a",K,[n("acme.sh"),s(a)])]),n(" \u8FD8\u53EF\u4EE5\u667A\u80FD\u7684\u4ECE "),z,n("\u7684\u914D\u7F6E\u4E2D\u81EA\u52A8\u5B8C\u6210\u9A8C\u8BC1, \u4F60\u4E0D\u9700\u8981\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55:")]),U,e("p",null,[n("\u5982\u679C\u4F60\u7528\u7684 "),G,n("\u670D\u52A1\u5668, \u6216\u8005\u53CD\u4EE3, "),e("strong",null,[e("a",J,[n("acme.sh"),s(a)])]),n(" \u8FD8\u53EF\u4EE5\u667A\u80FD\u7684\u4ECE "),W,n("\u7684\u914D\u7F6E\u4E2D\u81EA\u52A8\u5B8C\u6210\u9A8C\u8BC1, \u4F60\u4E0D\u9700\u8981\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55:")]),X,e("p",null,[n("\u5982\u679C\u4F60\u8FD8\u6CA1\u6709\u8FD0\u884C\u4EFB\u4F55 web \u670D\u52A1, "),Q,n(" \u7AEF\u53E3\u662F\u7A7A\u95F2\u7684, \u90A3\u4E48 "),e("strong",null,[e("a",Y,[n("acme.sh"),s(a)])]),n(" \u8FD8\u80FD\u5047\u88C5\u81EA\u5DF1\u662F\u4E00\u4E2Awebserver, \u4E34\u65F6\u542C\u5728"),Z,n(" \u7AEF\u53E3, \u5B8C\u6210\u9A8C\u8BC1:")]),$,e("p",null,[n("\u66F4\u9AD8\u7EA7\u7684\u7528\u6CD5\u8BF7\u53C2\u8003: "),e("a",ee,[n("https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert"),s(a)])]),ne,ae,e("p",null,[n("\u8FD9\u79CD\u65B9\u5F0F\u7684\u597D\u5904\u662F, \u4F60\u4E0D\u9700\u8981\u4EFB\u4F55\u670D\u52A1\u5668, \u4E0D\u9700\u8981\u4EFB\u4F55\u516C\u7F51 ip, \u53EA\u9700\u8981 dns \u7684\u89E3\u6790\u8BB0\u5F55\u5373\u53EF\u5B8C\u6210\u9A8C\u8BC1. \u574F\u5904\u662F\uFF0C\u5982\u679C\u4E0D\u540C\u65F6\u914D\u7F6E Automatic DNS API\uFF0C\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F "),e("a",se,[n("acme.sh"),s(a)]),n(" \u5C06\u65E0\u6CD5\u81EA\u52A8\u66F4\u65B0\u8BC1\u4E66\uFF0C\u6BCF\u6B21\u90FD\u9700\u8981\u624B\u52A8\u518D\u6B21\u91CD\u65B0\u89E3\u6790\u9A8C\u8BC1\u57DF\u540D\u6240\u6709\u6743\u3002")]),te,e("p",null,[n("\u7136\u540E, "),e("strong",null,[e("a",ie,[n("acme.sh"),s(a)])]),n(" \u4F1A\u751F\u6210\u76F8\u5E94\u7684\u89E3\u6790\u8BB0\u5F55\u663E\u793A\u51FA\u6765, \u4F60\u53EA\u9700\u8981\u5728\u4F60\u7684\u57DF\u540D\u7BA1\u7406\u9762\u677F\u4E2D\u6DFB\u52A0\u8FD9\u6761 txt \u8BB0\u5F55\u5373\u53EF.")]),le,e("p",null,[e("strong",null,[e("a",re,[n("acme.sh"),s(a)])]),n(" \u76EE\u524D\u652F\u6301 cloudflare, dnspod, cloudxns, godaddy \u4EE5\u53CA ovh \u7B49\u6570\u5341\u79CD\u89E3\u6790\u5546\u7684\u81EA\u52A8\u96C6\u6210.")]),de,e("p",null,[n("\u66F4\u8BE6\u7EC6\u7684 api \u7528\u6CD5: "),e("a",oe,[n("https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md"),s(a)])]),ce,e("p",null,[n("Nginx \u7684\u914D\u7F6E "),he,n(" \u4F7F\u7528 "),me,n(" \uFF0C\u800C\u975E "),ue,n(" \uFF0C\u5426\u5219 "),e("a",pe,[n("SSL Labs"),s(a)]),n(" \u7684\u6D4B\u8BD5\u4F1A\u62A5 "),_e,n(" \u9519\u8BEF\u3002")]),ge,e("p",null,[n("\u8BE6\u7EC6\u53C2\u6570\u8BF7\u53C2\u8003: "),e("a",ve,[n("https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc"),s(a)])]),be,e("p",null,[n("\u8BF7\u53C2\u8003\uFF1A "),e("a",xe,[n("https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh"),s(a)])]),fe,e("p",null,[e("a",ke,[n("https://github.com/Neilpang/acme.sh/wiki"),s(a)])]),we,e("p",null,[e("a",ye,[n("\u5B98\u7F51\u4E2D\u6587\u4ECB\u7ECD"),s(a)])])])}const Ee=i(o,[["render",Le],["__file","https-x-acme-gen.html.vue"]]);export{Ee as default};
