import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c as p,a as n,b as s,d as e,e as t,r as l}from"./app.c2ac2075.js";const c={},r=n("h2",{id:"\u5173\u4E8E-swagger",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5173\u4E8E-swagger","aria-hidden":"true"},"#"),s(" \u5173\u4E8E Swagger")],-1),u=n("p",null,"Swagger \u662F\u4E00\u4E2A\u7528\u4E8E\u751F\u6210\u3001\u63CF\u8FF0\u548C\u8C03\u7528 RESTful \u63A5\u53E3\u7684 Web \u670D\u52A1\u3002",-1),d=n("p",null,[n("img",{src:"http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-febf2633-5b02-425b-a513-c8583e14d621.png",alt:""})],-1),g={href:"https://www.ruanyifeng.com/blog/2011/09/restful.html",target:"_blank",rel:"noopener noreferrer"},b=n("p",null,"\u6362\u53E5\u8BDD\u8BF4\uFF0CSwagger \u5C31\u662F\u5C06\u9879\u76EE\u4E2D\u60F3\u8981\u66B4\u9732\u7684\u63A5\u53E3\u5C55\u793A\u5728\u9875\u9762\u4E0A\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u76F4\u63A5\u8FDB\u884C\u63A5\u53E3\u8C03\u7528\u548C\u6D4B\u8BD5\uFF0C\u80FD\u5728\u5F88\u5927\u7A0B\u5EA6\u4E0A\u63D0\u5347\u5F00\u53D1\u7684\u6548\u7387\u3002",-1),v=n("p",null,"\u6BD4\u5982\u8BF4\uFF0C\u4E00\u4E2A\u540E\u7AEF\u7A0B\u5E8F\u5458\u5199\u4E86\u4E00\u4E2A\u767B\u5F55\u63A5\u53E3\uFF0C\u60F3\u8981\u6D4B\u8BD5\u81EA\u5DF1\u5199\u7684\u63A5\u53E3\u662F\u5426\u7B26\u5408\u9884\u671F\u7684\u8BDD\uFF0C\u5C31\u5F97\u5148\u6A21\u62DF\u7528\u6237\u767B\u5F55\u7684\u884C\u4E3A\uFF0C\u5305\u62EC\u6B63\u5E38\u7684\u884C\u4E3A\uFF08\u8F93\u5165\u6B63\u786E\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF09\u548C\u5F02\u5E38\u7684\u884C\u4E3A\uFF08\u8F93\u5165\u9519\u8BEF\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF09\uFF0C\u8FD9\u5C31\u8981\u547D\u4E86\u3002",-1),k=n("p",null,"\u4F46\u6709\u4E86 Swagger \u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7B80\u5355\u7684\u914D\u7F6E\u751F\u6210\u63A5\u53E3\u7684\u5C55\u793A\u9875\u9762\uFF0C\u628A\u63A5\u53E3\u7684\u8BF7\u6C42\u53C2\u6570\u3001\u8FD4\u56DE\u7ED3\u679C\u901A\u8FC7\u53EF\u89C6\u5316\u7684\u5F62\u5F0F\u5C55\u793A\u51FA\u6765\uFF0C\u5E76\u4E14\u63D0\u4F9B\u4E86\u4FBF\u6377\u7684\u6D4B\u8BD5\u670D\u52A1\u3002",-1),m=n("ul",null,[n("li",null,"\u524D\u7AEF\u7A0B\u5E8F\u5458\u53EF\u4EE5\u901A\u8FC7\u63A5\u53E3\u5C55\u793A\u9875\u9762\u67E5\u770B\u9700\u8981\u4F20\u9012\u7684\u8BF7\u6C42\u53C2\u6570\u548C\u8FD4\u56DE\u7684\u6570\u636E\u683C\u5F0F\uFF0C\u4E0D\u9700\u8981\u540E\u7AEF\u7A0B\u5E8F\u5458\u518D\u7F16\u5199\u63A5\u53E3\u6587\u6863\u4E86\uFF1B"),n("li",null,"\u540E\u7AEF\u7A0B\u5E8F\u5458\u53EF\u4EE5\u901A\u8FC7\u63A5\u53E3\u5C55\u793A\u9875\u9762\u6D4B\u8BD5\u9A8C\u8BC1\u81EA\u5DF1\u7684\u63A5\u53E3\u662F\u5426\u7B26\u5408\u9884\u671F\uFF0C\u964D\u4F4E\u4E86\u5F00\u53D1\u9636\u6BB5\u7684\u8C03\u8BD5\u6210\u672C\u3002")],-1),h=n("p",null,"\u524D\u540E\u7AEF\u5206\u79BB\u5C31\u53EF\u4EE5\u5F88\u5B8C\u7F8E\u7684\u843D\u5730\u4E86\uFF0C\u6709\u6CA1\u6709\uFF1F",-1),f={href:"https://swagger.io/",target:"_blank",rel:"noopener noreferrer"},w=t(`<p>\u90A3\u5728 Swagger \u51FA\u73B0\u4E4B\u524D\uFF0C\u5C40\u9762\u5C31\u6BD4\u8F83\u7CDF\u7CD5\u3002\u524D\u7AEF\u7ECF\u5E38\u62B1\u6028\u540E\u7AEF\u7ED9\u7684\u63A5\u53E3\u6587\u6863\u4E0E\u5B9E\u9645\u60C5\u51B5\u4E0D\u4E00\u81F4\u3002\u540E\u7AEF\u53C8\u89C9\u5F97\u7F16\u5199\u53CA\u7EF4\u62A4\u63A5\u53E3\u6587\u6863\u4F1A\u8017\u8D39\u4E0D\u5C11\u7CBE\u529B\uFF0C\u7ECF\u5E38\u6765\u4E0D\u53CA\u66F4\u65B0\u3002</p><p>\u5927\u5BB6\u90FD\u88AB\u65E0\u60C5\u5730\u6298\u78E8\uFF0C\u75DB\u4E0D\u582A\u8A00\u3002\u3002\u3002</p><p>Swagger \u5B9A\u4E49\u4E86\u4E00\u5957\u89C4\u8303\uFF0C\u4F60\u53EA\u9700\u8981\u6309\u7167\u5B83\u7684\u89C4\u8303\u53BB\u5B9A\u4E49\u63A5\u53E3\u53CA\u63A5\u53E3\u76F8\u5173\u7684\u4FE1\u606F\uFF0C\u7136\u540E\u901A\u8FC7 Swagger \u884D\u751F\u51FA\u6765\u7684\u4E00\u7CFB\u5217\u5DE5\u5177\uFF0C\u5C31\u53EF\u4EE5\u751F\u6210\u5404\u79CD\u683C\u5F0F\u7684\u63A5\u53E3\u6587\u6863\uFF0C\u751A\u81F3\u8FD8\u53EF\u4EE5\u751F\u6210\u591A\u79CD\u8BED\u8A00\u7684\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u4EE3\u7801\uFF0C\u4EE5\u53CA\u5728\u7EBF\u63A5\u53E3\u8C03\u8BD5\u9875\u9762\u7B49\u7B49\u3002</p><p>\u90A3\u53EA\u8981\u53CA\u65F6\u66F4\u65B0 Swagger \u7684\u63CF\u8FF0\u6587\u4EF6\uFF0C\u5C31\u53EF\u4EE5\u81EA\u52A8\u751F\u6210\u63A5\u53E3\u6587\u6863\u4E86\uFF0C\u505A\u5230\u8C03\u7528\u7AEF\u4EE3\u7801\u3001\u670D\u52A1\u7AEF\u4EE3\u7801\u4EE5\u53CA\u63A5\u53E3\u6587\u6863\u7684\u4E00\u81F4\u6027\u3002</p><h2 id="\u6574\u5408-swagger-ui" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-swagger-ui" aria-hidden="true">#</a> \u6574\u5408 Swagger-UI</h2><p>Swagger-UI \u662F\u4E00\u5957 HTML/CSS/JS \u6846\u67B6\uFF0C\u7528\u4E8E\u6E32\u67D3 Swagger \u6587\u6863\uFF0C\u4EE5\u4FBF\u63D0\u4F9B\u7F8E\u89C2\u7684 API \u6587\u6863\u754C\u9762\u3002</p><p>\u4E5F\u5C31\u662F\u8BF4\uFF0CSwagger-UI \u662F Swagger \u63D0\u4F9B\u7684\u4E00\u5957\u53EF\u89C6\u5316\u6E32\u67D3\u7EC4\u4EF6\uFF0C\u652F\u6301\u5728\u7EBF\u5BFC\u5165\u63CF\u8FF0\u6587\u4EF6\u548C\u672C\u5730\u90E8\u7F72UI\u9879\u76EE\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-9cb36679-f1f7-469e-925e-2e54090f700f.png" alt=""></p><p>\u7B2C\u4E00\u6B65\uFF0C\u5728 pom.xml \u6587\u4EF6\u4E2D\u6DFB\u52A0 Swagger \u7684 starter\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u54A6\uFF0C\u4E0D\u662F\u8BF4\u6DFB\u52A0 Swagger \u7684\u4F9D\u8D56\u5417\uFF1F\u600E\u4E48\u6DFB\u52A0\u7684\u662F springfox-boot-starter \u5462\uFF1F</p><p>\u8FD9\u662F\u56E0\u4E3A\uFF1A</p><ul><li>Swagger \u662F\u4E00\u79CD\u89C4\u8303\u3002</li><li>springfox-swagger \u662F\u4E00\u4E2A\u57FA\u4E8E Spring \u751F\u6001\u7CFB\u7EDF\u7684\uFF0CSwagger \u89C4\u8303\u7684\u5B9E\u73B0\u3002</li><li>springfox-boot-starter \u662F springfox \u9488\u5BF9 Spring Boot \u9879\u76EE\u63D0\u4F9B\u7684\u4E00\u4E2A starter\uFF0C\u7B80\u5316 Swagger \u4F9D\u8D56\u7684\u5BFC\u5165\uFF0C\u5426\u5219\u6211\u4EEC\u5C31\u9700\u8981\u5728 pom.xml \u6587\u4EF6\u4E2D\u6DFB\u52A0 springfox-swagger\u3001springfox-swagger-ui \u7B49\u591A\u4E2A\u4F9D\u8D56\u3002</li></ul><p>\u7B2C\u4E8C\u6B65\uFF0C\u6DFB\u52A0 Swagger \u7684 Java \u914D\u7F6E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableOpenApi</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Docket</span> <span class="token function">docket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Docket</span> docket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Docket</span><span class="token punctuation">(</span><span class="token class-name">DocumentationType</span><span class="token punctuation">.</span><span class="token constant">OAS_30</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">//apis\uFF1A \u6DFB\u52A0swagger\u63A5\u53E3\u63D0\u53D6\u8303\u56F4</span>
                <span class="token punctuation">.</span><span class="token function">apis</span><span class="token punctuation">(</span><span class="token class-name">RequestHandlerSelectors</span><span class="token punctuation">.</span><span class="token function">basePackage</span><span class="token punctuation">(</span><span class="token string">&quot;top.codingmore.controller&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token class-name">PathSelectors</span><span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> docket<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">ApiInfo</span> <span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ApiInfoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&quot;\u7F16\u7A0B\u732B\u5B9E\u6218\u9879\u76EE\u7B14\u8BB0&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&quot;\u7F16\u7A0B\u55B5\u662F\u4E00\u4E2A Spring Boot+Vue \u7684\u524D\u540E\u7AEF\u5206\u79BB\u9879\u76EE&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">contact</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">&quot;musk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;https://codingmore.top&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;www.qing_gee@163.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">&quot;v1.0&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1\uFF09@Configuration \u6CE8\u89E3\u901A\u5E38\u7528\u6765\u58F0\u660E\u4E00\u4E2A Java \u914D\u7F6E\u7C7B\uFF0C\u53D6\u4EE3\u4E86\u4EE5\u5F80\u7684 xml \u914D\u7F6E\u6587\u4EF6\uFF0C\u8BA9\u914D\u7F6E\u53D8\u5F97\u66F4\u52A0\u7684\u7B80\u5355\u548C\u76F4\u63A5\u3002</p><p>2\uFF09@EnableOpenApi \u6CE8\u89E3\u8868\u660E\u5F00\u542F Swagger\u3002</p><p>3\uFF09SwaggerConfig \u7C7B\u4E2D\u5305\u542B\u4E86\u4E00\u4E2A @Bean \u6CE8\u89E3\u58F0\u660E\u7684\u65B9\u6CD5 <code>docket()</code>\uFF0C\u8BE5\u65B9\u6CD5\u4F1A\u88AB Spring \u7684 AnnotationConfigApplicationContext \u6216 AnnotationConfigWebApplicationContext \u7C7B\u8FDB\u884C\u626B\u63CF\uFF0C\u7136\u540E\u6DFB\u52A0\u5230 Spring \u5BB9\u5668\u5F53\u4E2D\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">AnnotationConfigApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">AppConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">MyBean</span> myBean <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">MyBean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B80\u5355\u63CF\u8FF0\u4E00\u4E0B Swagger \u7684\u914D\u7F6E\u5185\u5BB9\uFF1A</p><ul><li><code>new Docket(DocumentationType.OAS_30)</code>\uFF0C\u4F7F\u7528 3.0 \u7248\u672C\u7684 Swagger API\u3002OAS \u662F OpenAPI Specification \u7684\u7B80\u79F0\uFF0C\u7FFB\u8BD1\u6210\u4E2D\u6587\u5C31\u662F OpenAPI \u8BF4\u660E\u4E66\uFF0CSwagger \u9075\u5FAA\u7684\u5C31\u662F\u8FD9\u5957\u89C4\u8303\u3002</li><li><code>apiInfo(apiInfo())</code>\uFF0C\u914D\u7F6E API \u6587\u6863\u57FA\u672C\u4FE1\u606F\uFF0C\u6807\u9898\u3001\u63CF\u8FF0\u3001\u4F5C\u8005\u3001\u7248\u672C\u7B49\u3002</li><li><code>apis(RequestHandlerSelectors.basePackage(&quot;top.codingmore.controller&quot;))</code> \u6307\u5B9A API \u7684\u63A5\u53E3\u8303\u56F4\u4E3A controller \u63A7\u5236\u5668\u3002</li><li><code>paths(PathSelectors.any())</code> \u6307\u5B9A\u5339\u914D\u6240\u6709\u7684 URL\u3002</li></ul><p>\u7B2C\u4E09\u6B65\uFF0C\u6DFB\u52A0\u63A7\u5236\u5668\u7C7B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5 Swagger&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/swagger&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D4B\u8BD5&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;musk\u53C8\u5E05\u53C8\u4E11&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1\uFF09@Api\u6CE8\u89E3\uFF0C\u7528\u5728\u7C7B\u4E0A\uFF0C\u8BE5\u6CE8\u89E3\u5C06\u63A7\u5236\u5668\u6807\u6CE8\u4E3A\u4E00\u4E2A Swagger \u8D44\u6E90\u3002\u8BE5\u6CE8\u89E3\u6709 3 \u4E2A\u5C5E\u6027\uFF1A</p><ul><li>tags\uFF0C\u5177\u6709\u76F8\u540C\u6807\u7B7E\u7684 API \u4F1A\u88AB\u5F52\u5728\u4E00\u7EC4\u5185\u5C55\u793A</li><li>value\uFF0C\u5982\u679C tags \u6CA1\u6709\u5B9A\u4E49\uFF0Cvalue \u5C06\u4F5C\u4E3A API \u7684 tags \u4F7F\u7528\u3002</li><li>description\uFF0C\u5DF2\u5E9F\u5F03</li></ul><p>2\uFF09@ApiOperation \u6CE8\u89E3\uFF0C\u7528\u5728\u65B9\u6CD5\u4E0A\uFF0C\u63CF\u8FF0\u8FD9\u4E2A\u65B9\u6CD5\u662F\u505A\u4EC0\u4E48\u7528\u7684\u3002\u8BE5\u6CE8\u89E3\u6709 4 \u4E2A\u5C5E\u6027\uFF1A</p><ul><li>value \u64CD\u4F5C\u7684\u7B80\u5355\u8BF4\u660E\uFF0C\u957F\u5EA6\u4E3A120\u4E2A\u5B57\u6BCD\uFF0C60\u4E2A\u6C49\u5B57\u3002</li><li>notes \u5BF9\u64CD\u4F5C\u7684\u8BE6\u7EC6\u8BF4\u660E\u3002</li><li>httpMethod HTTP\u8BF7\u6C42\u7684\u52A8\u4F5C\u540D\uFF0C\u53EF\u9009\u503C\u6709\uFF1A&quot;GET&quot;, &quot;HEAD&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot; and &quot;PATCH&quot;\u3002</li><li>code \u9ED8\u8BA4\u4E3A200\uFF0C\u6709\u6548\u503C\u5FC5\u987B\u7B26\u5408\u6807\u51C6\u7684HTTP Status Code Definitions\u3002</li></ul><p>3\uFF09@RestController \u6CE8\u89E3\uFF0C\u7528\u5728\u7C7B\u4E0A\uFF0C\u662F@ResponseBody\u548C@Controller\u7684\u7EC4\u5408\u6CE8\u89E3\uFF0C\u5982\u679C\u65B9\u6CD5\u8981\u8FD4\u56DE JSON \u7684\u8BDD\uFF0C\u53EF\u7701\u53BB @ResponseBody \u6CE8\u89E3\u3002</p><p>4\uFF09@RequestMapping \u6CE8\u89E3\uFF0C\u53EF\u7528\u5728\u7C7B\uFF08\u7236\u8DEF\u5F84\uFF09\u548C\u65B9\u6CD5\uFF08\u5B50\u8DEF\u5F84\uFF09\u4E0A\uFF0C\u4E3B\u8981\u7528\u6765\u5B9A\u4E49 API \u7684\u8BF7\u6C42\u8DEF\u5F84\u548C\u8BF7\u6C42\u7C7B\u578B\u3002\u8BE5\u6CE8\u89E3\u6709 6 \u4E2A\u5C5E\u6027\uFF1A</p><ul><li>value\uFF0C\u6307\u5B9A\u8BF7\u6C42\u7684\u5B9E\u9645\u5730\u5740</li><li>method\uFF0C\u6307\u5B9A\u8BF7\u6C42\u7684method\u7C7B\u578B\uFF0C GET\u3001POST\u3001PUT\u3001DELETE\u7B49</li><li>consumes\uFF0C\u6307\u5B9A\u5904\u7406\u8BF7\u6C42\u7684\u63D0\u4EA4\u5185\u5BB9\u7C7B\u578B\uFF08Content-Type\uFF09\uFF0C\u4F8B\u5982 application/json, text/html</li><li>produces\uFF0C\u6307\u5B9A\u8FD4\u56DE\u7684\u5185\u5BB9\u7C7B\u578B\uFF0C\u4EC5\u5F53request\u8BF7\u6C42\u5934\u4E2D\u7684(Accept)\u7C7B\u578B\u4E2D\u5305\u542B\u8BE5\u6307\u5B9A\u7C7B\u578B\u624D\u8FD4\u56DE</li><li>params\uFF0C\u6307\u5B9Arequest\u4E2D\u5FC5\u987B\u5305\u542B\u67D0\u4E9B\u53C2\u6570\u503C</li><li>headers\uFF0C\u6307\u5B9Arequest\u4E2D\u5FC5\u987B\u5305\u542B\u67D0\u4E9B\u6307\u5B9A\u7684header\u503C</li></ul><p>\u7B2C\u56DB\u6B65\uFF0C\u542F\u52A8\u670D\u52A1\uFF0C\u5728\u6D4F\u89C8\u5668\u4E2D\u8F93\u5165 <code>http://localhost:8080/swagger-ui/</code> \u5C31\u53EF\u4EE5\u8BBF\u95EE Swagger \u751F\u6210\u7684 API \u6587\u6863\u4E86\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-25187213-723a-4120-8485-06759a509659.png" alt=""></p><p>\u70B9\u5F00 get \u8BF7\u6C42\u7684\u9762\u677F\uFF0C\u70B9\u51FB\u300Ctry it out\u300D\u518D\u70B9\u51FB\u300Cexcute\u300D\u53EF\u4EE5\u67E5\u770B\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-0f2b9c42-bae4-4712-be29-3771ab3bd3a8.png" alt=""></p><h2 id="\u7248\u672C\u4E0D\u517C\u5BB9" tabindex="-1"><a class="header-anchor" href="#\u7248\u672C\u4E0D\u517C\u5BB9" aria-hidden="true">#</a> \u7248\u672C\u4E0D\u517C\u5BB9</h2><p>\u5728 Spring Boot \u6574\u5408 Swagger \u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u53D1\u73B0\u4E00\u4E2A\u5927 bug\uFF0CSpring Boot 2.6.7 \u7248\u672C\u548C springfox 3.0.0 \u7248\u672C\u4E0D\u517C\u5BB9\uFF0C\u542F\u52A8\u7684\u65F6\u5019\u76F4\u63A5\u5C31\u62A5\u9519\u4E86\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-529160e4-aa31-410a-aa04-93e9576322b6.png" alt=""></p><blockquote><p>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null</p></blockquote><p>\u4E00\u8DEF\u8DDF\u8E2A\u4E0B\u6765\uFF0C\u53D1\u73B0 GitHub \u4E0A\u786E\u8BA4\u6709\u4EBA\u5728 Spring Boot \u4ED3\u5E93\u4E0B\u63D0\u5230\u4E86\u8FD9\u4E2A bug\u3002</p>`,39),q={href:"https://github.com/spring-projects/spring-boot/issues/28794",target:"_blank",rel:"noopener noreferrer"},S=t(`<p>Spring Boot \u8BF4\u8FD9\u662F springfox \u7684 bug\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-d0d336e1-2cba-49f4-bd65-6df7f89a6c9f.png" alt=""></p><p>\u8FFD\u8E2A\u8FC7\u6765\u4E00\u770B\uFF0C\u786E\u5B9E\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-cb3c15e7-ecfd-4e5e-92b7-673acb966a54.png" alt=""></p><p>\u6709\u4EBA\u63D0\u5230\u7684\u89E3\u51B3\u65B9\u6848\u662F\u5207\u6362\u5230 SpringDoc\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-0597f86d-1188-4fe1-8de8-fdb57c5cd524.png" alt=""></p><p>\u8FD9\u6837\u5C31\u9700\u8981\u5207\u6362\u6CE8\u89E3 <code>@Api \u2192 @Tag</code>\uFF0C<code>@ApiOperation(value = &quot;foo&quot;, notes = &quot;bar&quot;) \u2192 @Operation(summary = &quot;foo&quot;, description = &quot;bar&quot;)</code>\uFF0C\u5BF9\u65E7\u9879\u76EE\u4E0D\u662F\u5F88\u53CB\u597D\uFF0C\u5982\u679C\u662F\u65B0\u9879\u76EE\u7684\u8BDD\uFF0C\u5012\u662F\u53EF\u4EE5\u76F4\u63A5\u5C1D\u8BD5 SpringDoc\u3002</p><p>\u8FD8\u6709\u4EBA\u63D0\u51FA\u7684\u89E3\u51B3\u65B9\u6848\u662F\uFF1A</p><ul><li>\u5148\u5C06\u5339\u914D\u7B56\u7565\u8C03\u6574\u4E3A ant-path-matcher\uFF08application.yml\uFF09\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>spring:
  mvc:
    path match:
      matching-strategy: ANT_PATH_MATCHER
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7136\u540E\u5728 Spring \u5BB9\u5668\u4E2D\u6CE8\u5165\u4E0B\u9762\u8FD9\u4E2A bean\uFF0C\u53EF\u4EE5\u653E\u5728 SwaggerConfig \u7C7B\u4E2D\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>@Bean
public static BeanPostProcessor springfoxHandlerProviderBeanPostProcessor() {
    return new BeanPostProcessor() {

        @Override
        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
            if (bean instanceof WebMvcRequestHandlerProvider || bean instanceof WebFluxRequestHandlerProvider) {
                customizeSpringfoxHandlerMappings(getHandlerMappings(bean));
            }
            return bean;
        }

        private &lt;T extends RequestMappingInfoHandlerMapping&gt; void customizeSpringfoxHandlerMappings(List&lt;T&gt; mappings) {
            List&lt;T&gt; copy = mappings.stream()
                    .filter(mapping -&gt; mapping.getPatternParser() == null)
                    .collect(Collectors.toList());
            mappings.clear();
            mappings.addAll(copy);
        }

        @SuppressWarnings(&quot;unchecked&quot;)
        private List&lt;RequestMappingInfoHandlerMapping&gt; getHandlerMappings(Object bean) {
            try {
                Field field = ReflectionUtils.findField(bean.getClass(), &quot;handlerMappings&quot;);
                field.setAccessible(true);
                return (List&lt;RequestMappingInfoHandlerMapping&gt;) field.get(bean);
            } catch (IllegalArgumentException | IllegalAccessException e) {
                throw new IllegalStateException(e);
            }
        }
    };
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),_={href:"https://github.com/springfox/springfox/issues/3462",target:"_blank",rel:"noopener noreferrer"},x=t('<p>\u91CD\u65B0\u7F16\u8BD1\u9879\u76EE\uFF0C\u5C31\u4F1A\u53D1\u73B0\u9519\u8BEF\u6D88\u5931\u4E86\uFF0C\u6211\u53EA\u80FD\u8BF4GitHub \u4ED3\u5E93\u7684 issue \u533A\u90FD\u662F\u5927\u795E\uFF01</p><p>\u67E5\u770B Swagger \u63A5\u53E3\u6587\u6863\uFF0C\u53D1\u73B0\u4E00\u5207\u6B63\u5E38\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-05265d24-5242-48ac-9776-58e72798a545.png" alt=""></p><p>\u6211\u53EA\u80FD\u518D\u5F3A\u8C03\u4E00\u6B21\uFF0CGitHub \u4ED3\u5E93\u7684 issue \u533A\u90FD\u662F\u5927\u795E\uFF01\u5927\u5BB6\u9047\u5230\u95EE\u9898\u7684\u65F6\u5019\uFF0C\u4E00\u5B9A\u8981\u591A\u5230 issue \u533A\u770B\u770B\u3002</p><p>\u81F3\u4E8E\u4E3A\u4EC0\u4E48\u8981\u8FD9\u6837\u505A\uFF0C\u95EE\u9898\u7684\u89E3\u51B3\u8005\u7ED9\u51FA\u4E86\u81EA\u5DF1\u7684\u7B54\u6848\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-8b3d90d6-4eac-4db8-ab52-69c55078df36.png" alt=""></p><p>\u5927\u81F4\u7684\u610F\u601D\u5C31\u662F springfox \u548C Spring \u5728 pathPatternsCondition \u4E0A\u4EA7\u751F\u4E86\u5206\u6B67\uFF0C\u8FD9\u4E24\u4E2A\u6B65\u9AA4\u5C31\u662F\u7528\u6765\u6D88\u9664\u8FD9\u4E2A\u5206\u6B67\u7684\u3002</p><p>\u9664\u6B64\u4E4B\u5916\uFF0C\u8FD8\u6709\u53E6\u5916\u4E00\u79CD\u4FDD\u5B88\u7684\u505A\u6CD5\uFF0C\u76F4\u63A5\u5C06 Spring Boot \u7684\u7248\u672C\u56DE\u9000\u5230\u66F4\u4F4E\u7684\u7248\u672C\uFF0C\u6BD4\u5982\u8BF4 2.4.5\u3002</p><p><img src="http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/springboot/swagger-41096e72-bd7c-4663-b57e-fbc8506ec1cc.png" alt=""></p><h2 id="\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3" aria-hidden="true">#</a> \u5C0F\u7ED3</h2><p>Swagger \u867D\u7136\u89E3\u51B3\u4E86\u8C03\u7528\u7AEF\u4EE3\u7801\u3001\u670D\u52A1\u7AEF\u4EE3\u7801\u4EE5\u53CA\u63A5\u53E3\u6587\u6863\u7684\u4E0D\u4E00\u81F4\u7684\u95EE\u9898\uFF0C\u4F46\u6709\u4E00\u8BF4\u4E00\uFF0CSwagger-UI \u5B9E\u5728\u662F\u592A\u4E11\u4E86\u3002</p><hr>',12),A={href:"https://tobebetterjavaer.com/zhishixingqiu/",target:"_blank",rel:"noopener noreferrer"},j=n("strong",null,"\u7F16\u7A0B\u55B5",-1),P=n("hr",null,null,-1),y=n("h2",{id:"\u6E90\u7801\u8DEF\u5F84",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6E90\u7801\u8DEF\u5F84","aria-hidden":"true"},"#"),s(" \u6E90\u7801\u8DEF\u5F84")],-1),I={href:"https://github.com/itwanger/coding-more",target:"_blank",rel:"noopener noreferrer"},C={href:"https://github.com/itwanger/codingmore-learning/tree/main/codingmore-swagger",target:"_blank",rel:"noopener noreferrer"};function T(B,E){const a=l("ExternalLinkIcon");return i(),p("div",null,[r,u,d,n("blockquote",null,[n("p",null,[s("\u60F3\u8981\u7406\u89E3RESTful\u67B6\u6784\u7684\u8BDD\uFF0C\u53EF\u4EE5\u6233\u94FE\u63A5\u67E5\u770B\u962E\u4E00\u5CF0\u8001\u5E08\u7684\u535A\u5BA2\uFF1A"),n("a",g,[s("https://www.ruanyifeng.com/blog/2011/09/restful.html"),e(a)])])]),b,v,k,m,h,n("blockquote",null,[n("p",null,[s("Swagger \u5B98\u7F51\u5730\u5740\uFF1A"),n("a",f,[s("https://swagger.io/"),e(a)])])]),w,n("blockquote",null,[n("p",null,[n("a",q,[s("https://github.com/spring-projects/spring-boot/issues/28794"),e(a)])])]),S,n("blockquote",null,[n("p",null,[s("\u89E3\u51B3\u65B9\u6848\u5730\u5740\uFF1A"),n("a",_,[s("https://github.com/springfox/springfox/issues/3462"),e(a)])])]),x,n("p",null,[s("\u66F4\u591A\u5185\u5BB9\uFF0C\u53EA\u9488\u5BF9\u300AJava \u7A0B\u5E8F\u5458\u8FDB\u9636\u4E4B\u8DEF\u300B\u661F\u7403\u7528\u6237\u5F00\u653E\uFF0C\u9700\u8981\u7684\u5C0F\u4F19\u4F34\u53EF\u4EE5"),n("a",A,[s("\u6233\u94FE\u63A5\u{1F517}"),e(a)]),s("\u52A0\u5165\u6211\u4EEC\u7684\u661F\u7403\uFF0C\u4E00\u8D77\u5B66\u4E60\uFF0C\u4E00\u8D77\u5377\u3002\u3002"),j,s("\u{1F431}\u662F\u4E00\u4E2A Spring Boot+Vue \u7684\u524D\u540E\u7AEF\u5206\u79BB\u9879\u76EE\uFF0C\u878D\u5408\u4E86\u5E02\u9762\u4E0A\u7EDD\u5927\u591A\u6570\u6D41\u884C\u7684\u6280\u672F\u8981\u70B9\u3002\u901A\u8FC7\u5B66\u4E60\u5B9E\u6218\u9879\u76EE\uFF0C\u4F60\u53EF\u4EE5\u5C06\u6240\u5B66\u7684\u77E5\u8BC6\u901A\u8FC7\u5B9E\u8DF5\u8FDB\u884C\u68C0\u9A8C\u3001\u4F60\u53EF\u4EE5\u62D3\u5BBD\u81EA\u5DF1\u7684\u6280\u672F\u8FB9\u754C\uFF0C\u4F60\u53EF\u4EE5\u638C\u63E1\u4E00\u4E2A\u771F\u6B63\u7684\u5B9E\u6218\u9879\u76EE\u662F\u5982\u4F55\u4ECE 0 \u5230 1 \u7684\u3002")]),P,y,n("blockquote",null,[n("ul",null,[n("li",null,[s("\u7F16\u7A0B\u55B5\uFF1A"),n("a",I,[s("https://github.com/itwanger/coding-more"),e(a)])]),n("li",null,[s("codingmore-swagger\uFF1A"),n("a",C,[s("https://github.com/itwanger/codingmore-learning"),e(a)])])])])])}const O=o(c,[["render",T],["__file","swagger.html.vue"]]);export{O as default};
