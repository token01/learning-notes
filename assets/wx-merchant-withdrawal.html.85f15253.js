import{_ as s}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as t,c as e,a as n,b as p,d as o,f as i,r as c}from"./app.837a781d.js";const l={},u=i(`<h1 id="\u5FAE\u4FE1\u5546\u6237\u4ED8\u6B3E\u96F6\u94B1\u5B9E\u73B0-\u4F01\u4E1A\u6253\u6B3E-\u63D0\u73B0" tabindex="-1"><a class="header-anchor" href="#\u5FAE\u4FE1\u5546\u6237\u4ED8\u6B3E\u96F6\u94B1\u5B9E\u73B0-\u4F01\u4E1A\u6253\u6B3E-\u63D0\u73B0" aria-hidden="true">#</a> \u5FAE\u4FE1\u5546\u6237\u4ED8\u6B3E\u96F6\u94B1\u5B9E\u73B0(\u4F01\u4E1A\u6253\u6B3E/\u63D0\u73B0)</h1><h2 id="_1-\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-\u7B80\u4ECB" aria-hidden="true">#</a> 1. \u7B80\u4ECB</h2><p>\u5FAE\u4FE1\u5546\u6237\u4ED8\u6B3E \u662F \u5546\u6237\u4E3B\u52A8<strong>\u5411\u5FAE\u4FE1\u7528\u6237\u4E2A\u4EBA\u4ED8\u6B3E</strong></p><blockquote><p>\u76EE\u524D\u652F\u6301<strong>\u5411\u6307\u5B9A\u5FAE\u4FE1\u7528\u6237\u7684openid\u4ED8\u6B3E</strong></p></blockquote><p>\u4F01\u4E1A\u4ED8\u6B3E\u63D0\u4F9B<strong>\u7531\u5546\u6237\u76F4\u63A5\u4ED8\u94B1\u81F3\u7528\u6237\u5FAE\u4FE1\u96F6\u94B1</strong>\u7684\u80FD\u529B\uFF0C\u652F\u6301\u5E73\u53F0\u64CD\u4F5C\u53CA\u63A5\u53E3\u8C03\u7528\u4E24\u79CD\u65B9\u5F0F\u3002\u5177\u6709\u514D\u8D39\u3001\u5FEB\u901F\u5230\u8D26\u3001\u7075\u6D3B\u3001\u5B89\u5168\u7B49\u4F18\u70B9\u3002\u5546\u6237\u53EF\u4EE5\u4F7F\u7528\u4F01\u4E1A\u4ED8\u6B3E\uFF0C\u7528\u4E8E\u5982:</p><h3 id="_1-1-\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_1-1-\u573A\u666F" aria-hidden="true">#</a> 1.1 \u573A\u666F</h3><ul><li><p>\u8D39\u7528\u62A5\u9500</p></li><li><p>\u5458\u5DE5\u798F\u5229</p></li><li><p>\u7528\u6237\u5956\u52B1\u7B49\u3002</p></li><li><p>\u5982\u679C\u4F60\u662F\u505A\u7535\u5546\u6216\u8005\u67D0\u4E9B\u6709\u798F\u5229\u8FD4\u5229\u7684\u7CFB\u7EDF\uFF0C\u57FA\u672C\u4E0A\u4F1A\u9047\u5230\u8BF8\u5982 <code>\u4F59\u989D\u63D0\u73B0</code> \u8FD9\u7C7B\u9700\u6C42\uFF0C\u4E3B\u8981\u5C31\u662F\u5E73\u53F0\u5411\u7528\u6237\u8FD4\u5229\u73B0\u91D1\uFF0C\u79EF\u7D2F\u5230\u67D0\u4E00\u4E2A\u95E8\u69DB\uFF0C\u53EF\u4EE5\u9886\u53D6\u5230\u81EA\u5DF1\u7684\u4F59\u989D\u8D26\u53F7\u3001\u94F6\u884C\u5361\uFF1B\u6216\u8005\u662F\u4F7F\u7528\u4E3A\u7528\u6237\u53D1\u9001\u73B0\u91D1\u7EA2\u5305\u7684\u65B9\u5F0F\u3002</p></li></ul><h3 id="_1-2-\u7279\u70B9" tabindex="-1"><a class="header-anchor" href="#_1-2-\u7279\u70B9" aria-hidden="true">#</a> 1.2 \u7279\u70B9</h3><ul><li><p><strong>\u514D\u8D39:\u4E0D\u6536\u53D6\u4ED8\u6B3E\u624B\u7EED\u8D39\uFF0C\u8282\u7701\u4F01\u4E1A\u6210\u672C\u3002</strong></p></li><li><p>\u7075\u6D3B:\u53EF\u901A\u8FC7\u9875\u9762\u6216\u63A5\u53E3\u53D1\u8D77\u4ED8\u6B3E\uFF0C\u7075\u6D3B\u6EE1\u8DB3\u4F01\u4E1A\u4E0D\u540C\u573A\u666F\u7684\u4ED8\u6B3E\u9700\u6C42\u3002</p></li><li><p>\u53CB\u597D:\u901A\u8FC7openid\u5373\u53EF\u5B9E\u73B0\u4ED8\u6B3E\uFF0C\u7528\u6237\u6388\u6743\u5373\u53EF\uFF0C\u4F53\u9A8C\u66F4\u597D\u3002</p></li><li><p>\u5FEB\u901F:\u5728\u53D1\u8D77\u540E\uFF0C\u53CA\u65F6\u5230\u8D26\u7528\u6237\u96F6\u94B1\u3002\u901A\u8FC7\u5FAE\u4FE1\u6D88\u606F\u89E6\u8FBE\uFF0C\u7528\u6237\u53CA\u65F6\u83B7\u77E5\u5165\u8D26\u8BE6\u60C5\u3002</p></li><li><p>\u5B89\u5168:\u63D0\u4F9B\u591A\u79CD\u5B89\u5168\u5DE5\u5177\uFF0C\u6EE1\u8DB3\u4E0D\u540C\u573A\u666F\u5B89\u5168\u9700\u6C42\u3002\u5982:\u6309\u9700\u8C03\u6574\u4ED8\u6B3E\u989D\u5EA6;\u652F\u6301\u6536\u6B3E\u8D26\u6237\u9650\u5236;\u652F\u6301\u5B89\u5168\u9632\u5237\uFF0C\u62E6\u622A\u6076\u610F\u7528\u6237\u3001\u5C0F\u53F7\u3001\u673A\u5668\u53F7\u7801\u3002</p></li><li><p>\u652F\u6301\u81EA\u5B9A\u4E49\u5927\u989D\u901A\u77E5\u7B49\u3002</p></li></ul><h2 id="_2-\u5F00\u901A\u4F01\u4E1A\u4ED8\u6B3E" tabindex="-1"><a class="header-anchor" href="#_2-\u5F00\u901A\u4F01\u4E1A\u4ED8\u6B3E" aria-hidden="true">#</a> 2. \u5F00\u901A\u4F01\u4E1A\u4ED8\u6B3E</h2><h3 id="_2-1-\u5F00\u901A\u5165\u53E3" tabindex="-1"><a class="header-anchor" href="#_2-1-\u5F00\u901A\u5165\u53E3" aria-hidden="true">#</a> 2.1 \u5F00\u901A\u5165\u53E3</h3><ol><li><p>\u5FAE\u4FE1\u5546\u6237\u5E73\u53F0</p></li><li><p>\u4EA7\u54C1\u4E2D\u5FC3</p></li><li><p>\u6211\u7684\u4EA7\u54C1</p></li><li><p>\u8FD0\u8425\u5DE5\u5177</p></li><li><p>\u4F01\u4E1A\u4ED8\u6B3E\u5230\u96F6\u94B1</p></li></ol><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220505212608993.png" alt="image-20220505212608993"></p><blockquote><p>\u4F01\u4E1A\u4ED8\u6B3E\u4E5F\u652F\u6301\u5230\u4E2A\u4EBA\u94F6\u884C\u5361\uFF0C\u6B64\u5904\u7528\u7684\u6BD4\u8F83\u5C11\uFF0C\u4E0D\u8FC7\u591A\u4ECB\u7ECD</p></blockquote><h3 id="_2-2-\u5F00\u901A\u6761\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-2-\u5F00\u901A\u6761\u4EF6" aria-hidden="true">#</a> 2.2 \u5F00\u901A\u6761\u4EF6\uFF1A</h3><p>\u5165\u8D26\u65B9\u5F0F\u4E3A\u5373\u65F6\u5165\u8D26\u81F3\u5546\u6237\u53F7\uFF0C\u7ED3\u7B97\u5468\u671F\u4E3AT+1\u7684\u5546\u6237\uFF0C\u9700\u6EE1\u8DB3\u4E09\u4E2A\u6761\u4EF6\uFF1A</p><ol><li>\u5165\u9A7B\u6EE190\u5929\uFF0C</li><li>\u8FDE\u7EED\u6B63\u5E38\u4EA4\u661330\u5929\uFF0C</li><li>\u4FDD\u6301\u6B63\u5E38\u5065\u5EB7\u4EA4\u6613\u3002\u5176\u4F59\u7ED3\u7B97\u5468\u671F\u7684\u5546\u6237\u65E090\u5929/30\u5929\u5F00\u901A\u9650\u5236\uFF0C\u4F46\u4ECD\u9700\u4FDD\u6301\u6B63\u5E38\u5065\u5EB7\u4EA4\u6613\u3002</li></ol><h2 id="_3-\u5177\u4F53\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_3-\u5177\u4F53\u5B9E\u73B0" aria-hidden="true">#</a> 3. \u5177\u4F53\u5B9E\u73B0</h2><h3 id="_3-1-\u8BC1\u4E66\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-1-\u8BC1\u4E66\u914D\u7F6E" aria-hidden="true">#</a> 3.1 \u8BC1\u4E66\u914D\u7F6E</h3><p>\u53C2\u8003\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u9000\u6B3E\u5B9E\u73B0-4.1 \u8BC1\u4E66\u6587\u4EF6\u4E0B\u8F7D</p><p><a href="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%80%80%E6%AC%BE%E5%AE%9E%E7%8E%B0">4.1 \u8BC1\u4E66\u6587\u4EF6\u4E0B\u8F7D</a></p><h3 id="_3-2-\u4F01\u4E1A\u4ED8\u6B3E\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_3-2-\u4F01\u4E1A\u4ED8\u6B3E\u5B9E\u73B0" aria-hidden="true">#</a> 3.2 \u4F01\u4E1A\u4ED8\u6B3E\u5B9E\u73B0</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;\u4F01\u4E1A\u4ED8\u6B3E&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/entPay&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EntPayController</span> <span class="token punctuation">{</span>


    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testEntPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">WxPayException</span> <span class="token punctuation">{</span>
        <span class="token class-name">WxPayService</span> wxPayService <span class="token operator">=</span> <span class="token class-name">WxPayConfiguration</span><span class="token punctuation">.</span><span class="token function">getPayService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">long</span> now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EntPayRequest</span> request <span class="token operator">=</span> <span class="token class-name">EntPayRequest</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">partnerTradeNo</span><span class="token punctuation">(</span><span class="token string">&quot;TradeNo&quot;</span><span class="token operator">+</span>now<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">openid</span><span class="token punctuation">(</span><span class="token string">&quot;ozy_G4go3beml0KSumdHLik2HoFo&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">amount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">spbillCreateIp</span><span class="token punctuation">(</span><span class="token string">&quot;10.10.10.10&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">checkName</span><span class="token punctuation">(</span><span class="token class-name">WxPayConstants<span class="token punctuation">.</span>CheckNameOption</span><span class="token punctuation">.</span><span class="token constant">NO_CHECK</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&quot;\u63CF\u8FF0\u4FE1\u606F&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        wxPayService<span class="token punctuation">.</span><span class="token function">getEntPayService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">entPay</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u53C2\u8003\u6587\u7AE0" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u7AE0" aria-hidden="true">#</a> \u53C2\u8003\u6587\u7AE0</h2>`,24),r={href:"https://pay.weixin.qq.com/wiki/doc/api/tools/mch_pay.php?chapter=14_2",target:"_blank",rel:"noopener noreferrer"};function d(k,h){const a=c("ExternalLinkIcon");return t(),e("div",null,[u,n("p",null,[n("a",r,[p("\u5FAE\u4FE1\u5B98\u65B9\u6587\u6863"),o(a)])])])}const b=s(l,[["render",d],["__file","wx-merchant-withdrawal.html.vue"]]);export{b as default};
