import{_ as t}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as o,a as n,b as s,d as e,f as c,r as u}from"./app.09fc910f.js";const i={},l=c(`<h1 id="_03-\u89E3\u51B3\u524D\u7AEF\u8C03\u7528\u540E\u7AEF\u8DE8\u57DF\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_03-\u89E3\u51B3\u524D\u7AEF\u8C03\u7528\u540E\u7AEF\u8DE8\u57DF\u95EE\u9898" aria-hidden="true">#</a> 03.\u89E3\u51B3\u524D\u7AEF\u8C03\u7528\u540E\u7AEF\u8DE8\u57DF\u95EE\u9898</h1><p>\u5728\u5B66\u4E60\u524D\u7AEF\u7684\u5185\u5BB9\uFF0C\u76EE\u524D\u5728\u9875\u9762\u4E0A\u5C55\u793A\u4E00\u4E2A\u56FE\u8868\uFF0C\u8FD9\u4E9B\u56FE\u8868\u7684\u6570\u636E\u5176\u5B9E\u5C31\u662F\u4E00\u4E2Ajson\u6570\u7EC4\uFF0C\u5185\u5BB9\u5982\u4E0B\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;zhangs&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span><span class="token string">&quot;zhangs&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;\u4EBA\u4E4B\u521D&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;lis&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span><span class="token string">&quot;lis&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;\u6027\u672C\u5584&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;wangw&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span><span class="token string">&quot;wangw&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;\u6027\u76F8\u8FD1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;zhaol&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span><span class="token string">&quot;zhaol&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;\u4E60\u76F8\u8FDC&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;liuq&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span><span class="token string">&quot;liuq&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;\u82DF\u4E0D\u6559&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;mingb&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span><span class="token string">&quot;mingb&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;\u6027\u4E43\u8FC1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u539F\u672C\u8FD9\u4E9B\u6570\u636E\u5728\u6559\u5B66\u7F51\u7AD9\u4E0A\uFF0C\u4F46\u662F\u81EA\u5DF1\u60F3\u7740\u7EC3\u624B\u4E00\u4E0B\uFF0C\u901A\u8FC7gin\u6846\u67B6\u6765\u5427\u8FD9\u4E2A\u6570\u7EC4\u8FD4\u56DE\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Date <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID <span class="token builtin">int</span> <span class="token string">\`json:&quot;id&quot;\`</span>
 Name <span class="token builtin">string</span> <span class="token string">\`json:&quot;name&quot;\`</span>
 Nickname <span class="token builtin">string</span> <span class="token string">\`json:&quot;nickname&quot;\`</span>
 Desc <span class="token builtin">string</span> <span class="token string">\`json:&quot;desc&quot;\`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 r<span class="token operator">:=</span>gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 a<span class="token operator">:=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Date<span class="token punctuation">{</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">1</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;zhangs&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;zhangs&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u4EBA\u4E4B\u521D&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">2</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;lis&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;lis&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u6027\u672C\u5584&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">3</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;wangw&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;wangw&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u6027\u76F8\u8FD1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">4</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;zhaol&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;zhaol&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u4E60\u76F8\u8FDC&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">5</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;liuq&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;liuq&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u82DF\u4E0D\u6559&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">6</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;mingb&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;mingb&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u6027\u4E43\u8FC1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>
 r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/sys/jslist&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8000&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u542F\u52A8golang\u9879\u76EE\u4E4B\u540E\uFF0C\u8D76\u5FD9\u53BB\u524D\u7AEF\u8FDB\u884C\u4E00\u4E0B\u8BF7\u6C42\uFF0C\u7ED3\u679C\u4E00\u7247\u7A7A\u767D\uFF0C\u4EC0\u4E48\u6570\u636E\u4E5F\u6CA1\u6709\uFF0C\u6253\u5F00\u68C0\u67E5\u53D1\u73B0\u8DE8\u57DF\u4E86\uFF0C\u62A5\u9519\u5982\u4E0B\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>
Access to XMLHttpRequest at &#39;http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8000</span><span class="token operator">/</span>sys<span class="token operator">/</span>jslist?pageIndex<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>pageSize<span class="token operator">=</span><span class="token number">10</span>&#39; from origin <span class="token char">&#39;null&#39;</span> has been blocked by CORS policy<span class="token punctuation">:</span> No &#39;Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin&#39; header is present on the requested resource
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E8E\u662F\u5C31\u60F3\u7740\u4ECEgo\u7684\u5C42\u9762\u89E3\u51B3\u4E00\u4E0B\uFF0C\u6700\u540E\u5728\u7F51\u4E0A\u627E\u5230\u4E86\u7B54\u6848\uFF0C\u8C03\u6574go\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>
 <span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Date <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID <span class="token builtin">int</span> <span class="token string">\`json:&quot;id&quot;\`</span>
 Name <span class="token builtin">string</span> <span class="token string">\`json:&quot;name&quot;\`</span>
 Nickname <span class="token builtin">string</span> <span class="token string">\`json:&quot;nickname&quot;\`</span>
 Desc <span class="token builtin">string</span> <span class="token string">\`json:&quot;desc&quot;\`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 r<span class="token operator">:=</span>gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token function">Cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 a<span class="token operator">:=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Date<span class="token punctuation">{</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">1</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;zhangs&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;zhangs&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u4EBA\u4E4B\u521D&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">2</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;lis&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;lis&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u6027\u672C\u5584&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">3</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;wangw&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;wangw&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u6027\u76F8\u8FD1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">4</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;zhaol&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;zhaol&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u4E60\u76F8\u8FDC&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">5</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;liuq&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;liuq&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u82DF\u4E0D\u6559&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>ID<span class="token punctuation">:</span>       <span class="token number">6</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span>     <span class="token string">&quot;mingb&quot;</span><span class="token punctuation">,</span> Nickname<span class="token punctuation">:</span> <span class="token string">&quot;mingb&quot;</span><span class="token punctuation">,</span> Desc<span class="token punctuation">:</span>     <span class="token string">&quot;\u6027\u4E43\u8FC1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>

 r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/sys/jslist&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//c.AbortWithStatus(http.StatusNoContent)</span>
  c<span class="token punctuation">.</span><span class="token function">IndentedJSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> a<span class="token punctuation">)</span>

 r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8000&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// \u8DE8\u57DF</span>
<span class="token keyword">func</span> <span class="token function">Cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> gin<span class="token punctuation">.</span>HandlerFunc <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  method <span class="token operator">:=</span> c<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Method      <span class="token comment">//\u8BF7\u6C42\u65B9\u6CD5</span>
  origin <span class="token operator">:=</span> c<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;Origin&quot;</span><span class="token punctuation">)</span>        <span class="token comment">//\u8BF7\u6C42\u5934\u90E8</span>
  <span class="token keyword">var</span> headerKeys <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>                             <span class="token comment">// \u58F0\u660E\u8BF7\u6C42\u5934keys</span>
  <span class="token keyword">for</span> k<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> <span class="token keyword">range</span> c<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Header <span class="token punctuation">{</span>
   headerKeys <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>headerKeys<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  headerStr <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>headerKeys<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> headerStr <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
   headerStr <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;access-control-allow-origin, access-control-allow-headers, %s&quot;</span><span class="token punctuation">,</span> headerStr<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   headerStr <span class="token operator">=</span> <span class="token string">&quot;access-control-allow-origin, access-control-allow-headers&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> origin <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span>Writer<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>
   c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>        <span class="token comment">// \u8FD9\u662F\u5141\u8BB8\u8BBF\u95EE\u6240\u6709\u57DF</span>
   c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Methods&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST, GET, OPTIONS, PUT, DELETE,UPDATE&quot;</span><span class="token punctuation">)</span>      <span class="token comment">//\u670D\u52A1\u5668\u652F\u6301\u7684\u6240\u6709\u8DE8\u57DF\u8BF7\u6C42\u7684\u65B9\u6CD5,\u4E3A\u4E86\u907F\u514D\u6D4F\u89C8\u6B21\u8BF7\u6C42\u7684\u591A\u6B21&#39;\u9884\u68C0&#39;\u8BF7\u6C42</span>
   <span class="token comment">//  header\u7684\u7C7B\u578B</span>
   c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Authorization, Content-Length, X-CSRF-Token, Token,session,X_Requested_With,Accept, Origin, Host, Connection, Accept-Encoding, Accept-Language,DNT, X-CustomHeader, Keep-Alive, User-Agent, X-Requested-With, If-Modified-Since, Cache-Control, Content-Type, Pragma&quot;</span><span class="token punctuation">)</span>
   <span class="token comment">//              \u5141\u8BB8\u8DE8\u57DF\u8BBE\u7F6E                                                                                                      \u53EF\u4EE5\u8FD4\u56DE\u5176\u4ED6\u5B50\u6BB5</span>
   c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Expose-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers,Cache-Control,Content-Language,Content-Type,Expires,Last-Modified,Pragma,FooBar&quot;</span><span class="token punctuation">)</span>      <span class="token comment">// \u8DE8\u57DF\u5173\u952E\u8BBE\u7F6E \u8BA9\u6D4F\u89C8\u5668\u53EF\u4EE5\u89E3\u6790</span>
   c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Max-Age&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;172800&quot;</span><span class="token punctuation">)</span>        <span class="token comment">// \u7F13\u5B58\u8BF7\u6C42\u4FE1\u606F \u5355\u4F4D\u4E3A\u79D2</span>
   c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Credentials&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span>       <span class="token comment">//  \u8DE8\u57DF\u8BF7\u6C42\u662F\u5426\u9700\u8981\u5E26cookie\u4FE1\u606F \u9ED8\u8BA4\u8BBE\u7F6E\u4E3Atrue</span>
   c<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span>       <span class="token comment">// \u8BBE\u7F6E\u8FD4\u56DE\u683C\u5F0F\u662Fjson</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//\u653E\u884C\u6240\u6709OPTIONS\u65B9\u6CD5</span>
  <span class="token keyword">if</span> method <span class="token operator">==</span> <span class="token string">&quot;OPTIONS&quot;</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;Options Request!&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5904\u7406\u8BF7\u6C42</span>
  c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">//  \u5904\u7406\u8BF7\u6C42</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u63A5\u7740\u518D\u6765\u8BF7\u6C42\uFF0C\u53D1\u73B0\u53EF\u4EE5\u62FF\u5230\u6570\u636E\u4E86\uFF1A</p><p><img src="http://t.eryajf.net/imgs/2021/09/2f531c16888c1472.jpg" alt="image-20200321230030458"></p>`,11),k={href:"https://www.jianshu.com/p/2946513b81fa",target:"_blank",rel:"noopener noreferrer"};function r(d,m){const a=u("ExternalLinkIcon");return p(),o("div",null,[l,n("p",null,[s("\u53C2\u8003\uFF1A"),n("a",k,[s("https://www.jianshu.com/p/2946513b81fa"),e(a)])])])}const g=t(i,[["render",r],["__file","03.\u89E3\u51B3\u524D\u7AEF\u8C03\u7528\u540E\u7AEF\u8DE8\u57DF\u95EE\u9898.html.vue"]]);export{g as default};
